!function(e){function t(t){for(var r,s,a=t[0],c=t[1],u=t[2],p=0,h=[];p<a.length;p++)s=a[p],Object.prototype.hasOwnProperty.call(o,s)&&o[s]&&h.push(o[s][0]),o[s]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);for(l&&l(t);h.length;)h.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,a=1;a<n.length;a++){var c=n[a];0!==o[c]&&(r=!1)}r&&(i.splice(t--,1),e=s(s.s=n[0]))}return e}var r={},o={2:0},i=[];function s(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.e=function(e){var t=[],n=o[e];if(0!==n)if(n)t.push(n[2]);else{var r=new Promise((function(t,r){n=o[e]=[t,r]}));t.push(n[2]=r);var i,a=document.createElement("script");a.charset="utf-8",a.timeout=120,s.nc&&a.setAttribute("nonce",s.nc),a.src=function(e){return s.p+""+({0:"403",1:"about"}[e]||e)+".js"}(e);var c=new Error;i=function(t){a.onerror=a.onload=null,clearTimeout(u);var n=o[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),i=t&&t.target&&t.target.src;c.message="Loading chunk "+e+" failed.\n("+r+": "+i+")",c.name="ChunkLoadError",c.type=r,c.request=i,n[1](c)}o[e]=void 0}};var u=setTimeout((function(){i({type:"timeout",target:a})}),12e4);a.onerror=a.onload=i,document.head.appendChild(a)}return Promise.all(t)},s.m=e,s.c=r,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)s.d(n,r,function(t){return e[t]}.bind(null,r));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/dist/",s.oe=function(e){throw console.error(e),e};var a=window.webpackJsonp=window.webpackJsonp||[],c=a.push.bind(a);a.push=t,a=a.slice();for(var u=0;u<a.length;u++)t(a[u]);var l=c;i.push([42,3]),n()}({20:function(e,t,n){"use strict";n.r(t);var r=n(3),o={inject:["theme"],name:"u-item",props:{node:{required:!0}},computed:{hasTag(){return this.node.tags&&this.node.tags.length>0}}},i=(n(21),n(1)),s={name:"u-list",props:{items:{required:!0}},components:{UItem:Object(i.a)(o,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a",{staticClass:"item",style:{borderColor:e.theme.primary},attrs:{href:e.node.originalUrl}},[n("div",{staticClass:"title"},[e._v(e._s(e.node.title))]),e.hasTag?n("div",{staticClass:"tags"},[e._v("\n    #\n    "),e._l(e.node.tags,(function(t){return n("span",{key:t.id,staticClass:"tag"},[e._v(e._s(t.title))])}))],2):e._e()])}),[],!1,null,"319ce33a",null).exports}},a=Object(i.a)(s,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",this._l(this.items,(function(e,n){return t("div",{key:n},[t("u-item",{attrs:{node:e}})],1)})),0)}),[],!1,null,null,null).exports;const{mapState:c,mapActions:u}=Object(r.a)("topic");var l={name:"u-top",props:["type"],components:{UList:a},computed:{...c({items:e=>e[e.activeType].items})},asyncData:({store:e,route:t})=>e.dispatch("topic/FETCH_LIST_DATA",{type:t.name}).catch(e=>console.error(e)),watch:{type(e){this.fetchData({type:e})}},methods:{...u({fetchData:"FETCH_LIST_DATA"}),fetchNext(){const{type:e}=this;this.fetchData({type:e})}}},p=(n(22),Object(i.a)(l,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("u-list",{attrs:{items:this.items}}),t("div",{directives:[{name:"intersect",rawName:"v-intersect",value:{handler:this.fetchNext},expression:"{ handler: fetchNext }"}],staticClass:"x-bottom"})],1)}),[],!1,null,"3eab1d68",null));t.default=p.exports},21:function(e,t,n){"use strict";var r=n(5);n.n(r).a},22:function(e,t,n){"use strict";var r=n(6);n.n(r).a},39:function(e,t,n){"use strict";var r=n(7);n.n(r).a},42:function(e,t,n){"use strict";n.r(t);var r=n(2),o=n(20),i=n(19);const s=n.n(i).a.create({baseURL:"https://web-api.juejin.im",timeout:1e3,headers:{"X-Agent":"Juejin/Web"}});s.interceptors.response.use((function({status:e,statusText:t,data:n}){return 200!==e?Promise.reject():n}),(function(e){return Promise.reject(e)}));const a={new:"NEWEST",hot:"POPULAR",top:"THREE_DAYS_HOTTEST"},c="top",u="hot",l="new",p={namespaced:!0,state:{activeType:c,top:{items:[],pageInfo:{}},hot:{items:[],pageInfo:{}},new:{items:[],pageInfo:{}}},mutations:{SET_ACTIVE_TYPE:(e,{type:t})=>{e.activeType=t},SET_LIST:(e,{items:t,pageInfo:n})=>{e[e.activeType].pageInfo=n,t.forEach(t=>{t&&e[e.activeType].items.push(t)})}},actions:{FETCH_LIST_DATA:({commit:e,state:t},{type:n})=>{const r=t.activeType;if(e("SET_ACTIVE_TYPE",{type:n}),n!==r&&t[n].items.length)return;return(({type:e,after:t})=>s.post("/query",{operationName:"",query:"",variables:{first:20,after:t,order:a[e]},extensions:{query:{id:"21207e9ddb1de777adeaca7a2fb38030"}}}).then(({data:e})=>{const{edges:t,pageInfo:n}=e.articleFeed.items;return{items:t.map(({node:e})=>e),pageInfo:n}}))({type:n,after:t[n].pageInfo.endCursor||""}).then(t=>e("SET_LIST",t))}}};var h=new class{constructor(){this._config={}}regist(e,t){this._config[e]=t}get(e){return this._config[e]}};function f(e){return null!=e}function d(e,t){if(e.length){const n=e.indexOf(t);if(n>-1)return e.splice(n,1)}}var m={name:"u-keep-alive",abstract:!0,props:{max:[Number,String]},created(){this.cache=Object.create(null),this.keys=[]},render(){const e=function(e){if(Array.isArray(e))for(let t=0;t<e.length;t++){const n=e[t];if(f(n)&&(f(n.componentOptions)||isAsyncPlaceholder(n)))return n}}(this.$slots.default),t=e&&e.componentOptions;if(t){const{cache:n,keys:r}=this,o=null==e.key?`${t.Ctor.cid}::${t.tag||""}`:e.key;n[o]?(e.componentInstance=n[o].componentInstance,d(r,o),r.push(o)):(n[o]=e,r.push(o),this.max&&r.length>parseInt(this.max)&&function(e,t,n,r){const o=e[t];!o||r&&o.tag===r.tag||o.componentInstance.$destroy(),e[t]=null,d(n,t)}(n,r[0],r,this._vnode)),e.data.keepAlive=!0}return e}},v=n(1),b=Object(v.a)(m,void 0,void 0,!1,null,null,null).exports,g={components:{UTopic:o.default,UKeepAlive:b},data:()=>({themeType:"blue"}),provide(){return{theme:this.theme}},computed:{theme(){return h.get("theme")[this.themeType]},navs:()=>[{name:"热门",path:u},{name:"最新",path:l},{name:"热榜",path:c},{name:"关于我",path:"about"}]}},y=(n(39),Object(v.a)(g,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("div",{staticClass:"m-top",style:{backgroundColor:e.theme.primary}},e._l(e.navs,(function(t){return n("u-link",{key:t.path,staticClass:"m-link",style:{backgroundColor:e.$route.name===t.path?e.theme.highlight:e.theme.primary},attrs:{to:t.path,prefetch:!0}},[e._v(e._s(t.name))])})),1),n("div",{staticClass:"m-content"},[n("u-keep-alive",{attrs:{max:"2"}},[n("router-view")],1)],1),n("div",{staticClass:"m-side"},[e._v("\n    主题切换：\n    "),n("button",{on:{click:function(t){e.themeType="red"}}},[e._v("红")]),n("button",{on:{click:function(t){e.themeType="blue"}}},[e._v("蓝")])])])}),[],!1,null,null,null).exports),_=n(3);r.a.use(_.b);var T=n(9);const x=[{name:c,path:"/"+c,component:()=>Promise.resolve().then(n.bind(null,20)),props:{type:c}},{name:l,path:"/"+l,component:()=>Promise.resolve().then(n.bind(null,20)),props:{type:l}},{name:u,path:"/"+u,component:()=>Promise.resolve().then(n.bind(null,20)),props:{type:u}}],w={ABOUT_PAGE:Symbol("ABOUT_PAGE")},k=e=>h.get("permission")[e];function O({store:e}){const t=()=>e.state.user.role;return new T.a({mode:"history",routes:[...x,{name:"about",path:"/about",component:()=>n.e(1).then(n.bind(null,47)),beforeEnter(e,n,r){var o;o=w.ABOUT_PAGE,function(...e){return 0===e.length?e=>e:1===e.length?e[0]:e.reduce((e,t)=>(...n)=>e(t(...n)))}(e=>e[o],k,t)()?r():r("403")}},{name:"403",path:"/403",component:()=>n.e(0).then(n.bind(null,48))},{path:"/",redirect:"/hot"}]})}r.a.use(T.a);var E={inserted(e,t){const n=t.value,{handler:r,options:o={}}=n,i=new IntersectionObserver((t=[],n)=>{if(e._observe){if(r&&e._observe.init){const e=Boolean(t.find(e=>e.isIntersecting));e&&r(t,n,e)}e._observe.init=!0}},o);e._observe={init:!1,observer:i},i.observe(e)},unbind(e){e._observe&&(e._observe.observer.unobserve(e),delete e._observe)}};r.a.directive("intersect",E);const I=window.requestIdleCallback||function(e){const t=Date.now();return setTimeout(()=>{e({didTimeout:!1,timeRemaining:()=>Math.max(0,50-(Date.now()-t))})},0)},A=window.cancelIdleCallback||function(e){clearTimeout(e)},C=window.IntersectionObserver&&new window.IntersectionObserver(e=>{e.forEach(({intersectionRadio:e,target:t})=>{e<=0||t.__prefech()})});var P={name:"u-link",props:{prefetch:{type:Boolean,default:!1}},mounted(){this.prefetch&&(this.handleId=I(this.observe,{timeout:2e3}))},beforeDestroy(){A(this.handleId)},methods:{observe(){C&&this.shouldPrefetch()&&(this.$el.__prefech=this.prefetchLink.bind(this),C.observe(this.$el),this.__observed=!0)},shouldPrefetch(){return this.getPrefetchComponents().length>0},getPrefetchComponents(){return this.$router.resolve(this.$attrs.to,this.$route).resolved.matched.map(e=>e.components.default).filter(e=>"function"==typeof e&&!e.options&&!e.__prefetched)},prefetchLink(){C.unobserve(this.$el);const e=this.getPrefetchComponents();for(const t of e)t(),t.__prefetched=!0}}},S=Object(v.a)(P,(function(){var e=this.$createElement;return(this._self._c||e)("router-link",this._g(this._b({},"router-link",this.$attrs,!1),this.$listeners),[this._t("default")],2)}),[],!1,null,null,null).exports;const{app:j,router:$,store:U}=function(){const e=new _.b.Store({state:{user:{role:"CEO"}},modules:{topic:p}}),t=O({store:e});return h.regist("theme",{blue:{primary:"#007fff",highlight:"#00a6ff"},red:{primary:"#A83733",highlight:"rgb(195, 75, 73)"}}),h.regist("permission",{CEO:{[w.ABOUT_PAGE]:!0},COO:{[w.ABOUT_PAGE]:!1}}),{app:new r.a({store:e,router:t,render:e=>e(y)}),store:e,router:t}}();r.a.component("u-link",S),window.__INITIAL_STATE__&&U.replaceState(window.__INITIAL_STATE__),r.a.mixin({beforeRouteUpdate(e,t,n){const{asyncData:r}=this.$options;r?r({store:this.$store,route:e}).then(()=>n).catch(n):n()}}),$.onReady(()=>{j.$mount("#app")})},5:function(e,t,n){(t=n(8)(!1)).push([e.i,"\n.item[data-v-319ce33a] {\n  display: block;\n  background: #fff;\n  color: #333;\n  padding: 20px 0px 20px;\n  border-bottom: 1px solid #eee;\n  position: relative;\n}\n.title[data-v-319ce33a] {\n  font-size: 16px;\n  margin-bottom: 5px;\n}\n.tags[data-v-319ce33a] {\n  font-size: 12px;\n  color: #999;\n}\n.tag[data-v-319ce33a] {\n  margin-right: 3px;\n}\n",""]),e.exports=t},6:function(e,t,n){(t=n(8)(!1)).push([e.i,"\n.x-bottom[data-v-3eab1d68] {\n  width: 100%;\n  height: 1px;\n}\n",""]),e.exports=t},7:function(e,t,n){(t=n(8)(!1)).push([e.i,'\nbody {\n  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen,\n    Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", sans-serif;\n  margin: 0;\n  overflow-y: scroll;\n}\na {\n  text-decoration: none;\n  color: #007fff;\n}\n.m-top {\n  height: 60px;\n  width: 100%;\n  background: #007fff;\n}\n.m-content {\n  width: 360px;\n  border: 1px solid #eee;\n  background: #fff;\n  margin: 20px auto;\n  padding: 0 20px;\n}\n.m-link {\n  display: inline-block;\n  color: #fff;\n  height: 60px;\n  line-height: 60px;\n  font-size: 19px;\n  padding: 0 20px;\n}\n.router-link-active {\n  background: #00a6ff;\n}\n.m-side {\n  position: fixed;\n  left: 50%;\n  margin-left: 220px;\n  top: 100px;\n}\n',""]),e.exports=t}});